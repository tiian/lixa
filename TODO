client_recovery_analyze needs maintenance: it choose rollback in some 
situations where commit has been yet performed. See test case  TX/B.5/8.1

xa_forget must be moved inside xa_rollback/xa_commit or it must be re-arranged with a new message to the server.
But a new message open a problem with the "finished" flag: if leaved at commit/rollback place, it will become unreliable; if moved to a new "forget" message, it will trasform the new message in mandatory.
Test case TX/B.5/8.1 (any,XAER_RMFAIL) may be used to discover the behavior.

Protect TX from TX_FAIL: if it happens, no function can be called after it

Stability test with valgrind must be performed

Stress test must be performed

Crash test must be performed

Remove all @@@ from source code: every one was/is an "open point"

